{% extends 'base.html' %}

{% block title %}Home{% endblock %}
{% block content %}
<section class="hero" style="margin-bottom: 2rem;">
  <h2>Challenge your mind. Learn every day.</h2>
  <p>Take engaging quizzes across Academic, Entertainment, and General Knowledge categories. Track your progress and improve over time.</p>
  <div class="hero-actions">
    <a class="btn" href="{% url 'quiz_list' %}">Browse All Quizzes</a>
    {% if user.is_authenticated %}
      <a class="btn btn-outline" href="{% url 'profile' %}">Go to Profile</a>
    {% else %}
      <a class="btn btn-outline" href="{% url 'register' %}">Create an Account</a>
    {% endif %}
  </div>
  
  {% if categories %}
  <div style="margin-top: 2rem;">
    <h3 style="margin:0 0 1rem; color: var(--text);">Popular Categories</h3>
    <div class="category-grid">
      {% for c in categories %}
      <a class="category-card" href="{% url 'quiz_list' %}#{{ c.slug }}" style="text-decoration:none; color:inherit;">
        <div style="background: var(--primary); width: 36px; height: 36px; border-radius: 50%; display:flex; align-items:center; justify-content:center;">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
            <circle cx="12" cy="12" r="9"/>
            <path d="M12 7v5l3 3"/>
          </svg>
        </div>
        <div style="display:flex; flex-direction:column;">
          <strong>{{ c.name }}</strong>
          <span style="font-size: .85rem; color: var(--text-light);">Explore {{ c.name }} quizzes</span>
        </div>
      </a>
      {% endfor %}
    </div>
  </div>
  {% endif %}
</section>

<section>
  <div style="display:flex; align-items:center; justify-content:space-between; margin-bottom: 1rem;">
    <h3 style="margin:0;">Featured Quizzes</h3>
    <a href="{% url 'quiz_list' %}" style="color: var(--primary); text-decoration:none; font-weight:500;">See all</a>
  </div>
  <div class="quiz-grid">
    {% for quiz in quizzes %}
      <article class="quiz-card">
        <div style="display:flex; align-items:center; gap: .75rem; margin-bottom: .75rem;">
          <div style="background: var(--primary); width: 36px; height: 36px; border-radius: 50%; display:flex; align-items:center; justify-content:center;">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
              <path d="M12 3v1m0 16v1m9-9h-1M4 12H3"/>
            </svg>
          </div>
          <h4 style="margin:0;">{{ quiz.title }}</h4>
        </div>
        <p style="color: var(--text-light);">{{ quiz.description|default:'No description' }}</p>
        <div style="display:flex; align-items:center; justify-content:space-between; margin-top: 1rem;">
          <span style="font-size:.85rem; color:var(--text-light);">
            {% if quiz.question_count %}{{ quiz.question_count }} questions{% endif %}
          </span>
          <a href="{% url 'take_quiz' quiz.id %}" class="btn">Take Quiz</a>
        </div>
      </article>
    {% empty %}
      <p>No quizzes published yet.</p>
    {% endfor %}
  </div>
</section>
{% endblock %}
