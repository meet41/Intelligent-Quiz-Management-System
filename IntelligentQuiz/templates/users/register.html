{% extends 'base.html' %}
{% block title %}Register{% endblock %}
{% block content %}
<section class="auth-page">
  <div class="auth-header">
    <h2>Create your account</h2>
  </div>
  <div class="auth-card">
    <form method="post" novalidate autocomplete="on">
      {% csrf_token %}
      {% for field in form %}
        <div class="form-group">
          <label for="{{ field.id_for_label }}">{{ field.label }}</label>
          {{ field }}
          {% if field.help_text %}
            <div class="help">{{ field.help_text }}</div>
          {% endif %}
          {% for error in field.errors %}
            <div class="error">{{ error }}</div>
          {% endfor %}
        </div>
      {% endfor %}
      <button type="submit" class="btn" style="width:100%; margin-top:.25rem;">Create account</button>
    </form>
  </div>
  <p class="auth-foot">Already have an account? <a class="link" href="{% url 'login' %}">Login</a></p>
</section>

<style>
  .auth-page { max-width: 540px; margin: 2.5rem auto 2rem; padding: 0 1rem; }
  .auth-header { text-align:center; margin-bottom: 1rem; padding: 1rem; border:1px solid var(--border); border-radius: var(--radius-lg); background: linear-gradient(135deg, rgba(99,102,241,.10), rgba(129,140,248,.06)); }
  .auth-header h2 { margin:0; color: var(--primary); font-size: clamp(1.6rem, 2.2vw, 1.9rem); }
  .auth-card { background: var(--bg-card); border:1px solid var(--border); border-radius: var(--radius-lg); padding: 1.4rem 1.3rem 1.6rem; box-shadow: var(--shadow-sm); }
  .form-group { margin-bottom: 1rem; position: static; }
  /* Reset floating-label behavior from global styles for this page */
  .auth-card .form-group label {
    position: static !important;
    top: auto; left: auto;
    display:block;
    margin: 0 0 .45rem;
    padding: 0;
    background: transparent;
    color: var(--text);
    font-weight: 500;
    transform: none !important;
    pointer-events: auto;
  }
  /* Ensure inputs are readable in dark and light themes */
  .auth-card input[type="text"],
  .auth-card input[type="email"],
  .auth-card input[type="password"],
  .auth-card input[type="number"],
  .auth-card input[type="tel"] {
    color: var(--text);
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: var(--radius-lg);
    padding: 0.6em 0.8em;
    font-size: 1em;
    box-sizing: border-box;
    caret-color: var(--primary);
  }
  .auth-card input::placeholder { color: var(--text-light); opacity: .8; }
  .auth-card input:focus { border-color: var(--primary); outline: none; box-shadow: var(--shadow-highlight); }
  /* Fix Chrome autofill in dark mode */
  input:-webkit-autofill,
  input:-webkit-autofill:focus {
    -webkit-text-fill-color: var(--text);
    -webkit-box-shadow: 0 0 0px 1000px var(--bg-card) inset;
    box-shadow: 0 0 0px 1000px var(--bg-card) inset;
    transition: background-color 9999s ease-in-out 0s;
  }
  .help { font-size: .75rem; color: var(--text-light); margin-top: .35rem; line-height: 1.3; }
  .error { font-size: .8rem; color: var(--danger); margin-top: .35rem; }
  .link { color: var(--primary); text-decoration: none; font-weight: 500; }
  .link:hover { text-decoration: underline; }
  .auth-foot { text-align:center; margin-top: 1rem; color: var(--text); }
  /* Compact spacing on very small screens */
  @media (max-width: 420px){ .auth-card { padding: 1.1rem 1rem 1.3rem; } }
</style>
{% endblock %}
